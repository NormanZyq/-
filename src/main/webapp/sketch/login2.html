<!DOCTYPE html>
<html lang="ch">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="../css/fontawesome.min.css">
		<link rel="stylesheet" href="../css/bootstrap.min.css">
		<link rel="stylesheet" href="../css/style.css">

		<script src="../js/jquery-3.3.1.js"></script>
		<script src="../js/bootstrap.min.js"></script>

		<title>登录</title>
        <script src="../js/utils.js"></script>


    </head>

    <script type="text/javascript">
        function submi() {
            if ($("#stu").is(':checked')) {
                window.location.href = 'student.html'
            } else if ($("#tea").is(':checked')) {
                window.location.href = 'teacher.html'
            }
        }

        window.onload = function () {
            navBar();
            makeActive("login-page");
        };
    </script>

    <script type="text/javascript">
        function login2() {
            var userId = $("#userId").val();
            var password = $("#password").val();
            /* alert(userId)
            alert(password) */
            $.ajax({
                url: "http://localhost:8080/user/login",
                //alert(url)
                method: "POST",
                data: {
                    userId: userId,
                    password: password
                },
                success: function() {
                    window.location.href="/student";
                },
                /* error: function(XMLHttpRequest, textStatus, errorThrown) {
                    // 状态码
                    console.log(XMLHttpRequest.status);
                    // 状态
                    console.log(XMLHttpRequest.readyState);
                    // 错误信息
                    console.log(textStatus);
                } */
            });
            /* alert("1!") */
        }
    </script>

	<body class="bg-light">


        <div class="bloc bloc-lg" style="background-image: url(/img/blue.svg);min-height: 850px; background-repeat:no-repeat; background-attachment:fixed">

            <div class="container">
                <!--<div class="row">-->
                    <div class="card mt-4 shadow shadow-lg col-md-6 offset-md-3 img-rd-lg ">
                        <div class="card-body">
                            <div class="mt-5">
                                <!--<span class="mt-5"><i class="fa fa-paperclip"></i></span>-->
                                <h1 class="card-title text-center font-weight-bold">登录</h1>
                            </div>
                            <!--<form action="">-->
                                <div class="mt-5">
                                    <div class="col-md-8 offset-md-2">
                                        <label for="userId" class="sr-only">ID</label>
                                        <input type="text" id="userId" class="form-control img-rd-sm" name="userId" placeholder="学工号" required autofocus>

                                        <label for="password" class="sr-only">密码</label>
                                        <input type="password" id="password" class="form-control mt-4 img-rd-sm" placeholder="密码" required>
                                    </div>
                                </div>

                            <div class="text-center">
                                <button id="sbm" type="button" class="btn col-md-6 offset-md-3 mt-5 mb-5 font-weight-bold img-rd-sm" onclick="login()" style="background-color: #c9ecfd;">登录</button>
                            </div>
                            <!--</form>-->
                        </div>
                    </div>

                    <script>
                        function login() {
                            $.ajax({
                                url: "/user/login",
                                dataType: "text",
                                method: "POST",
                                data: {
                                    userId: $('#userId').val(),
                                    password: $('#password').val()
                                },
                                // success: function (result) {
                                //     if (result == 'ok') {
                                //         alert("登录成功");
                                //         userId = id;
                                //     } else {
                                //         alert(result);
                                //     }
                                // },
                                statusCode: {
                                    200: function () {

                                    },
                                    404: function () {
                                        alert("无法连接到服务器");
                                    },
                                    701: function () {
                                        alert("用户名和密码不匹配");
                                    },
                                    702: function () {
                                        alert("用户名和密码不能为空");
                                    },
                                    500: function () {
                                        alert("服务器异常");
                                    }
                                },
                            })
                        }
                    </script>

                <!--</div>-->

            </div>

            </div>

	</body>
</html>
